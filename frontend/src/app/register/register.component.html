<div class="flex items-center justify-center h-screen bg-gray-100 overflow-hidden pt-6 pb-16">
  <div class="w-full max-w-sm rounded-2xl shadow-lg overflow-hidden scale-95 relative">
    <button type="button" (click)="toggleTheme()" aria-label="Toggle dark mode" class="absolute top-2 right-2 p-2 rounded-full hover:bg-gray-200/60 active:bg-gray-300/60">
      <ng-container *ngIf="!isDark; else sunIcon">
       
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-5 w-5 text-gray-700">
          <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 1 0 9.79 9.79z" />
        </svg>
      </ng-container>
      <ng-template #sunIcon>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-5 w-5 text-gray-700">
          <path d="M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.8 1.42-1.42zm10.45 0l1.79-1.79 1.41 1.41-1.79 1.8-1.41-1.42zM12 4V1h-1v3h1zm0 19v-3h-1v3h1zm8-9h3v-1h-3v1zm-19 0h3v-1H1v1zm15.24 7.16l1.79 1.79 1.41-1.41-1.79-1.8-1.41 1.42zM4.22 17.95l-1.79 1.79 1.41 1.41 1.8-1.79-1.42-1.41zM12 6a6 6 0 100 12 6 6 0 000-12z"/>
        </svg>
      </ng-template>
    </button>
    
    
    <div class="bg-slate-600 text-white text-center py-6 px-6">
      <img src="assets/images/logo.png" alt="Timora" class="h-16 mx-auto" />
      <div class="text-white/80 text-sm mt-1">Intranet & Vacation planner</div>
    </div>
    
  
    <div class="bg-white px-6 py-5">
      <h2 class="text-xl font-bold text-center mb-4">Sign Up</h2>

      
      <div
        class="mb-3 p-2 bg-red-100 text-red-600 text-sm rounded"
        *ngIf="serverError"
      >
        {{ serverError }}
      </div>

      <form
        [formGroup]="registerForm"
        (ngSubmit)="onSubmit()"
        novalidate
        class="space-y-2"
      >
        <input
          formControlName="companyId"
          type="text"
          placeholder="Company ID *"
          minlength="3"
          maxlength="10"
          class="w-full px-3 py-2 border-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm"
        />
        <div class="text-red-600 text-xs h-4 font-bold">
          <ng-container *ngIf="(submitted || f['companyId'].touched) && f['companyId'].errors as e">
            <span *ngIf="e['minlength']">Please enter at least 3 characters.</span>
            <span *ngIf="e['maxlength']">Max 10 characters.</span>
            <span *ngIf="e['alphanumeric']">Letters & numbers only.</span>
          </ng-container>
        </div>

        <input
          formControlName="firstName"
          type="text"
          placeholder="First Name *"
          minlength="2"
          maxlength="50"
          class="w-full px-3 py-2 border-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm"
        />
        <div class="text-red-600 text-xs h-4 font-bold">
          <ng-container *ngIf="(submitted || f['firstName'].touched) && f['firstName'].errors as e">
            <span *ngIf="e['minlength']">Please enter at least 2 characters.</span>
            <span *ngIf="e['maxlength']">Max 50 characters.</span>
            <span *ngIf="e['lettersOnly']">Letters only.</span>
          </ng-container>
        </div>

        <input
          formControlName="lastName"
          type="text"
          placeholder="Last Name *"
          minlength="2"
          maxlength="50"
          class="w-full px-3 py-2 border-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm"
        />
        <div class="text-red-600 text-xs h-4 font-bold">
          <ng-container *ngIf="(submitted || f['lastName'].touched) && f['lastName'].errors as e">
            <span *ngIf="e['minlength']">Please enter at least 2 characters.</span>
            <span *ngIf="e['maxlength']">Max 50 characters.</span>
            <span *ngIf="e['lettersOnly']">Letters only.</span>
          </ng-container>
        </div>

        <input
          formControlName="email"
          type="email"
          placeholder="E-mail address *"
          class="w-full px-3 py-2 border-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm"
        />
        <div class="text-red-600 text-xs h-4 font-bold">
          <ng-container *ngIf="(submitted || f['email'].touched) && f['email'].errors as e">
            <span *ngIf="e['email']">Invalid email.</span>
          </ng-container>
        </div>

        <input
          formControlName="address"
          type="text"
          placeholder="Address *"
          minlength="5"
          maxlength="100"
          class="w-full px-3 py-2 border-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm"
        />
        <div class="text-red-600 text-xs h-4 font-bold">
          <ng-container *ngIf="(submitted || f['address'].touched) && f['address'].errors as e">
            <span *ngIf="e['minlength']">Please enter at least 5 characters.</span>
            <span *ngIf="e['maxlength']">Max 100 characters.</span>
            <span *ngIf="e['addressFormat']">Invalid characters.</span>
          </ng-container>
        </div>

        <input
          formControlName="password"
          type="password"
          placeholder="Password *"
          minlength="8"
          maxlength="64"
          class="w-full px-3 py-2 border-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm"
        />
        <div class="text-red-600 text-xs h-4 font-bold">
          <ng-container *ngIf="(submitted || f['password'].touched) && f['password'].errors as e">
            <span *ngIf="e['minlength']">Please enter at least 8 characters.</span>
            <span *ngIf="e['maxlength']">Max 64 characters.</span>
            <span *ngIf="e['weakPassword']">Use : A-Z, a-z, 0-9,!-?</span>
          </ng-container>
        </div>

        <input
          formControlName="confirmPassword"
          type="password"
          placeholder="Repeat password *"
          class="w-full px-3 py-2 border-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm"
        />
        <div class="text-red-600 text-xs h-4 font-bold">
          <ng-container *ngIf="(submitted || f['confirmPassword'].touched) && (f['confirmPassword'].errors || registerForm.errors?.['passwordsNotMatching'])">
            <span *ngIf="registerForm.errors?.['passwordsNotMatching']">Passwords don't match.</span>
          </ng-container>
        </div>

        <div class="grid grid-cols-2 gap-3">
          <button
            type="submit"
            [disabled]="registerForm.invalid"
            class="w-full h-10 flex items-center justify-center px-6 rounded-lg transition-all duration-150 disabled:opacity-50 text-sm text-white"
            style="background-color: #0d2c5f;"
            onmouseover="this.style.backgroundColor='#3a4b63'"
            onmouseout="this.style.backgroundColor='#0d2c5f'"
            onmousedown="this.style.backgroundColor='#2f3d52'"
            onmouseup="this.style.backgroundColor='#3a4b63'"
            ontouchstart="this.style.backgroundColor='#2f3d52'"
            ontouchend="this.style.backgroundColor='#3a4b63'">Sign Up</button>

          <button type="button" class="w-full h-10 flex items-center justify-center gap-2 px-6 border rounded-lg text-sm hover:bg-gray-50 active:bg-gray-100 transition-colors">
            <span aria-hidden="true" class="block h-4 w-4 bg-no-repeat bg-center bg-contain" style="background-image: url('assets/images/1657955079google-icon-png.png');"></span>
            <span>Google</span>
          </button>
        </div>
      </form>

      <div class="text-center text-sm text-gray-600 mt-4">
        Already have an account? <a class="underline cursor-pointer hover:text-slate-600 active:text-slate-800 transition-colors duration-150">Sign in!</a>
      </div>
    </div>
  </div>
</div>