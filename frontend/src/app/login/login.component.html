<div class="auth-container">
  <div class="auth-card">
    <button type="button" (click)="toggleTheme()" aria-label="Toggle dark mode" class="auth-theme-toggle">
      <ng-container *ngIf="!isDark; else sunIcon">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="auth-icon">
          <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 1 0 9.79 9.79z" />
        </svg>
      </ng-container>
      <ng-template #sunIcon>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="auth-icon">
          <path d="M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.8 1.42-1.42zm10.45 0l1.79-1.79 1.41 1.41-1.79 1.8-1.41-1.42zM12 4V1h-1v3h1zm0 19v-3h-1v3h1zm8-9h3v-1h-3v1zm-19 0h3v-1H1v1zm15.24 7.16l1.79 1.79 1.41-1.41-1.79-1.8-1.41 1.42zM4.22 17.95l-1.79 1.79 1.41 1.41 1.8-1.79-1.42-1.41zM12 6a6 6 0 100 12 6 6 0 000-12z"/>
        </svg>
      </ng-template>
    </button>
    
    
    <div class="auth-header">
      <img src="assets/images/logo.png" alt="Timora" class="auth-logo" />
      <div class="auth-subtitle">Intranet & Vacation planner</div>
    </div>
    
    
    <div class="auth-body">
      <h2 class="auth-title">Login</h2>

      
      <div class="auth-error" *ngIf="serverError">
        {{ serverError }}
      </div>

      <form
        [formGroup]="loginForm"
        (ngSubmit)="onSubmit()"
        novalidate
        class="auth-form"
      >
        <input
          formControlName="companyId"
          type="text"
          placeholder="Company ID *"
          class="auth-input"
        />
        <div class="auth-error-text">
          <ng-container *ngIf="(submitted || f['companyId'].touched) && f['companyId'].errors as e">
            <span *ngIf="e['required']">Company ID is required.</span>
            <span *ngIf="e['minlength']">Please enter at least 3 characters.</span>
            <span *ngIf="e['maxlength']">Max 10 characters.</span>
            <span *ngIf="e['alphanumeric']">Letters & numbers only.</span>
          </ng-container>
        </div>

        <input
          formControlName="username"
          type="text"
          placeholder="Username *"
          class="auth-input"
        />
        <div class="auth-error-text">
          <ng-container *ngIf="(submitted || f['username'].touched) && f['username'].errors as e">
            <span *ngIf="e['required']">Username is required.</span>
            <span *ngIf="e['minlength']">Please enter at least 2 characters.</span>
            <span *ngIf="e['maxlength']">Max 50 characters.</span>
          </ng-container>
        </div>

        <input
          formControlName="password"
          type="password"
          placeholder="Password *"
          class="auth-input"
        />
        <div class="auth-error-text">
          <ng-container *ngIf="(submitted || f['password'].touched) && f['password'].errors as e">
            <span *ngIf="e['required']">Password is required.</span>
            <span *ngIf="e['minlength']">Please enter at least 8 characters.</span>
          </ng-container>
        </div>

       
        <div class="auth-links">
          <span class="auth-link">Forgotten password?</span>
          <span class="auth-link auth-link-underline">Reset password</span>
        </div>

        <div class="auth-buttons">
          <button
            type="submit"
            [disabled]="loginForm.invalid"
            class="auth-btn auth-btn-primary">Sign In</button>

          <button type="button" class="auth-btn auth-btn-secondary">
            <span class="auth-google-icon"></span>
            <span>Google</span>
          </button>
        </div>
      </form>

      <div class="auth-footer">
        Don't have an account? <a class="auth-link auth-link-underline">Sign up!</a>
      </div>
    </div>
  </div>
</div>